# `pizzareads`

https://pizzareads.onrender.com

Transport yourself back to the 90s with this web app, where we're all about reliving the rad vibes while embracing our passion for books and reading. Achieve your reading goals and score awesome rewards, like free pizza!
## Database Schema Design

![db-schema]

[db-schema]: ./images/PizzaReads.png
### API Documentation

## USER AUTHENTICATION/AUTHORIZATION

### All endpoints that require authentication

All endpoints that require a current user to be logged in.

* Request: endpoints that require authentication
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

### All endpoints that require proper authorization

All endpoints that require authentication and the current user does not have the
correct role(s) or permission(s).

* Request: endpoints that require proper authorization
* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Get the Current User

Returns the information about the current user that is logged in.

* Require Authentication: true
* Request
  * Method: GET
  * URL: '/api/session'
  * Body: none

* Successful Response when there is a logged in user
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith",
        "totalBooksRead": 2
      }
    }
    ```

* Successful Response when there is no logged in user
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": null
    }
    ```

### Log In a User

Logs in a current user with valid credentials and returns the current user's
information.

* Require Authentication: false
* Request
  * Method: POST
  * URL: '/api/session'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "credential": "john.smith@gmail.com",
      "password": "secret password"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith"
      }
    }
    ```

* Error Response: Invalid credentials
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Invalid credentials"
    }
    ```

* Error response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "credential": "Email or username is required",
        "password": "Password is required"
      }
    }
    ```

### Sign Up a User

Creates a new user, logs them in as the current user, and returns the current
user's information.

* Require Authentication: false
* Request
  * Method: POST
  * URL: '/api/users'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "firstName": "John",
      "lastName": "Smith",
      "email": "john.smith@gmail.com",
      "username": "JohnSmith",
      "password": "secret password",
      "bio": "Some stuff about John Smith."
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "user": {
        "id": 1,
        "firstName": "John",
        "lastName": "Smith",
        "email": "john.smith@gmail.com",
        "username": "JohnSmith",
        "bio": "Some stuff about John Smith.",
        "totalBooksRead": 0
      }
    }
    ```

* Error response: User already exists with the specified email
  * Status Code: 500
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "User already exists",
      "errors": {
        "email": "User with that email already exists"
      }
    }
    ```

* Error response: User already exists with the specified username
  * Status Code: 500
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "User already exists",
      "errors": {
        "username": "User with that username already exists"
      }
    }
    ```

* Error response: Body validation errors
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "email": "Invalid email",
        "username": "Username is required",
        "firstName": "First Name is required"
      }
    }
    ```

## BOOKS

### Get all Books

Returns all the books.

* Require Authentication: false
* Request
  * Method: GET
  * URL: '/api/books'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "Books": [
        {
          "id": 1,
          "title": "Harry Potter and the Prisoner of Azkaban",
          "author": "J.K. Rowling",
          "genre": "Fantasy",
          "publicationDate": "July 8, 1999",
          "isbn": "9780439655484",
          "description": "Harry Potter, along with his best friends, Ron and Hermione, is about to start his third year at Hogwarts School of Witchcraft and Wizardry. Harry can't wait to get back to school after the summer holidays. (Who wouldn't if they lived with the horrible Dursleys?) But when Harry gets to Hogwarts, the atmosphere is tense. There's an escaped mass murderer on the loose, and the sinister prison guards of Azkaban have been called in to guard the school...",
          "coverImageUrl": "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1630547330i/5.jpg",
          "totalPages": 435,
          "createdAt": "2021-11-19 20:39:36",
          "updatedAt": "2021-11-19 20:39:36"
        }
      ]
    }
    ```
<!-- ### Get all Books owned by the Current User
Returns all the books owned (created) by the current user.

* Require Authentication: true
* Request
  * Method: GET
  * URL: '/api/books/current'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "Books": [
        {
          "id": 1,
          "title": "Harry Potter and the Prisoner of Azkaban",
          "author": "J.K. Rowling",
          "genre": "Fantasy",
          "publicationDate": "July 8, 1999",
          "isbn": "9780439655484",
          "description": "Harry Potter, along with his best friends, Ron and Hermione, is about to start his third year at Hogwarts School of Witchcraft and Wizardry. Harry can't wait to get back to school after the summer holidays. (Who wouldn't if they lived with the horrible Dursleys?) But when Harry gets to Hogwarts, the atmosphere is tense. There's an escaped mass murderer on the loose, and the sinister prison guards of Azkaban have been called in to guard the school...",
          "coverImageUrl": "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1630547330i/5.jpg",
          "totalPages": 435,
          "createdAt": "2021-11-19 20:39:36",
          "updatedAt": "2021-11-19 20:39:36",
        }
      ]
    }
    ``` -->

### Get details of a Book from an id

Returns the details of a book specified by its id.

* Require Authentication: false
* Request
  * Method: GET
  * URL: '/api/books/1'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
          "id": 1,
          "title": "Harry Potter and the Prisoner of Azkaban",
          "author": "J.K. Rowling",
          "genre": "Fantasy",
          "publicationDate": "July 8, 1999",
          "isbn": "9780439655484",
          "description": "Harry Potter, along with his best friends, Ron and Hermione, is about to start his third year at Hogwarts School of Witchcraft and Wizardry. Harry can't wait to get back to school after the summer holidays. (Who wouldn't if they lived with the horrible Dursleys?) But when Harry gets to Hogwarts, the atmosphere is tense. There's an escaped mass murderer on the loose, and the sinister prison guards of Azkaban have been called in to guard the school...",
          "coverImageUrl": "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1630547330i/5.jpg",
          "totalPages": 435,
          "createdAt": "2021-11-19 20:39:36",
          "updatedAt": "2021-11-19 20:39:36"
     }
    ```

* Error response: Couldn't find a Book with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book couldn't be found"
    }
    ```

## BOOK PROGRESS
### Get User's Book Progress
Returns reading progress for all books belonging to a specific user.

* Require Authentication: false
* Request
  * Method: GET
  * URL: 'api/progress/:userId'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "BookProgress": [
        {
          "id": 1,
          "userId": 1,
          "bookId": 1,
          "pagesRead": 435,
          "createdAt": "2024-04-01T12:00:00Z",
          "updatedAt": "2024-04-05T12:00:00Z"
          "Book": {
            "id": 1,
            "title": "Harry Potter and the Prisoner of Azkaban",
            "author": "J.K. Rowling",
            "coverImageUrl": "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1630547330i/5.jpg",
            "totalPages": 435,
          }
          "User" : {
            "id": 1,
            "firstName": "John",
            "username": "JohnSmith",
            "totalBooksRead": 1
          }
        },
        {
          "id": 2,
          "userId": 1,
          "bookId": 2,
          "pagesRead": 50,
          "createdAt": "2024-04-01T12:00:00Z",
          "updatedAt": "2024-04-05T12:00:00Z"
          "Book": {
            "id": 2,
            "title": "Another Book",
            "author": "Jane Smith",
            "coverImageUrl": "http://example.com/another_cover_image.jpg",
            "totalPages": 100,
          }
          "User" : {
            "id": 1,
            "firstName": "John",
            "username": "JohnSmith",
            "totalBooksRead": 1
          }
        }
      ]
    }
    ```

### Add Book Progress
Add reading progress for a specific book belonging to a user.

* Require Authentication: true
* Require proper authorization: book must belong to the current user's book shelf
* Request
  * Method: POST
  * URL: '/api/progress'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "pagesRead": 50
    }
    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "id": 3,
      "userId": 1,
      "bookId": 1,
      "pagesRead": 50,
      "createdAt": "2024-04-01T12:00:00Z",
      "updatedAt": "2024-04-05T12:00:00Z"
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "pagesRead": "Pages Read is required."
      }
    }
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Update Book Progress
Update reading progress for a specific book belonging to a user.

* Require Authentication: true
* Require proper authorization: book progress must belong to the current user
* Request
  * Method: PUT
  * URL: '/api/bookprogress/:bookProgressId'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "pagesRead": 435,
    }
    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "id": 1,
      "userId": 1,
      "bookId": 1,
      "pagesRead": 435,
      "createdAt": "2024-04-01T12:00:00Z",
      "updatedAt": "2024-04-05T12:00:00Z"
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "pagesRead": "Pages Read is required."
      }
    }
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Delete Book Progress
Delete reading progress for a specific book belonging to a user.

* Require Authentication: true
* Require proper authorization: book progress must belong to the current user
* Request
  * Method: DELETE
  * URL: '/api/bookprogress/:bookProgressId'
  * Headers:
    * Content-Type: application/json
  * Body: None

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Reading progress deleted successfully."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

## COUPONS

### Get Coupons for a user
Return the available coupons for the logged-in user

* Require Authentication: true
* Require Authorization: If user has read x amount of books
* Request
  * Method: GET
  * URL: 'api/coupons'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    [
      {
        "couponId": 1,
        "couponName": "Free Pizza",
        "couponCode": "PIZZA123",
        "couponDescription": "Get a free pizza on your next order!"
      }
    ]
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

## USER COUPONS
### Get All Coupons owned by a user
Return the coupons owned by the logged-in user

* Require Authentication: true
* Require Authorization: If user has read x amount of books
* Request
  * Method: GET
  * URL: 'api/coupons/current'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    [
      {
        "couponId": 1,
        "couponName": "Free Pizza",
        "couponCode": "PIZZA123",
        "couponDescription": "Get a free pizza on your next order!",
        "redeemedDate": "2024-04-05T12:00:00Z"
      },
      {
        "couponId": 2,
        "couponName": "Free Pizza",
        "couponCode": "PIZZA123",
        "couponDescription": "Get a free pizza on your next order!",
        "redeemedDate": null
      }
    ]
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Get Redeemed Coupons for a user
Return the already redeemed coupons for the logged-in user

* Require Authentication: true
* Require Authorization: If user has read x amount of books
* Request
  * Method: GET
  * URL: 'api/coupons/redeemed'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    [
      {
        "couponId": 1,
        "couponName": "Free Pizza",
        "couponCode": "PIZZA123",
        "couponDescription": "Get a free pizza on your next order!",
        "redeemedDate": "2024-04-05T12:00:00Z"
      },
    ]
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Add Coupons to a user's profile
Add the coupon to the user's profile

* Require Authentication: true
* Require Authorization: If user has read x amount of books
* Request
  * Method: POST
  * URL: 'api/coupons/:couponId'
  * Body: None

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
      {
        "message": "Coupon added to your inventory."
      }
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Redeem Coupon
IF eligible logged-in user can redeem a coupon

* Require Authentication: true
* Require Authorization: If user has read x amount of books
* Request
  * Method: PUT
  * URL: 'api/coupons/:couponId'
  * Body: None

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json

      {
        "id": 1,
        "couponId": 1,
        "redeemedDate": "2024-04-05T12:00:00Z"
      }


    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Delete Coupon
Logged-in user can delete a redeemed a coupon

* Require Authentication: true
* Require Authorization: If redeemed coupon has already been used
* Request
  * Method: DELETE
  * URL: 'api/coupons/:couponId'
  * Body: none

* Successful Response
  * Status Code: 204
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json

      {
        "message": "Coupon has been successfully deleted."
      }


    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

## BOOK SHELVES [Target MVP]
### Get User's Book Shelves

Returns all the book shelves belonging to a specific user.

* Require Authentication: false
* Request
  * Method: GET
  * URL: '/api/shelf/:userId'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "Shelves": [
        {
        "shelfId": 1,
        "userId": 1,
        "shelfName": "Currently Reading",
        "description": "Books currently reading.",
        "isDefault": true
        },
        {
          "shelfId": 2,
          "userId": 1,
          "shelfName": "Finished Reading",
          "description": "Finished Books.",
          "isDefault": true
        },
        {
          "shelfId": 3,
          "userId": 1,
          "shelfName": "To Read",
          "description": "Books to read in the future.",
          "isDefault": false
        }
      ]
    }
    ```


### Create a book shelf
Create a new book shelf for user.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: POST
  * URL: '/api/shelf'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "shelfName": "New Shelf",
      "description": "Description of the new shelf."
    }
    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "shelfId": 4,
      "userId": 1,
      "shelfName": "New Shelf",
      "description": "Description of the new shelf.",
      "isDefault": false,
      "createdAt": "2021-11-19 20:39:36",
      "updatedAt": "2021-11-19 20:39:36"
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "shelfName": "Shelf name is required."
      }
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Update Book Shelf
Update the details of an existing book shelf.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user & shelf  cannot be default=true
* Request
  * Method: PUT
  * URL: '/api/shelf/:shelfId'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "shelfName": "Updated Shelf Name",
      "description": "Updated description of the shelf."
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "shelfId": 4,
      "userId": 1,
      "shelfName": "Updated Shelf Name",
      "description": "Updated description of the shelf.",
      "isDefault": false,
      "createdAt": "2021-11-19 20:39:36",
      "updatedAt": "2021-11-20 10:06:40"
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "shelfName": "Shelf Name is required. || Shelf Name cannot be more than 30 characters.",
        "description": "Description cannot be more than 50 characters.",
      }
    }
    ```

* Error response: Couldn't find a Shelf with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book shelf couldn't be found"
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Delete Book Shelf

Deletes a book shelf belonging to a user.

* Require Authentication: true
* Require proper authorization: Book shelf must belong to the current user & shelf  cannot be default=true
* Request
  * Method: DELETE
  * URL: '/api/shelf/:shelfId'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Successfully deleted."
    }
    ```

* Error response: Couldn't find a Book Shelf with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book shelf couldn't be found"
    }
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

## BOOK SHELF BOOKS [Target MVP]

### Get all books on shelf
Return all books on a specific shelf belonging to the logged-in user.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: GET
  * URL: '/api/shelf/:shelfId/books'
  * Headers:
    * Content-Type: application/json
  * Body: None

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "ShelfBooks": [
        {
          "id": 1,
          "shelfId": 1,
          "bookId": 1,
          "createdAt": "2021-11-19 20:39:36",
          "updatedAt": "2021-11-19 20:39:36"
          "Book": {
            "id": 1,
            "title": "Harry Potter and the Prisoner of Azkaban",
            "author": "J.K. Rowling",
            "genre": "Fantasy",
            "publicationDate": "1999-07-08",
            "isbn": "9780439655484",
            "description": "Harry Potter, along with his best friends, Ron and Hermione, is about to start his third year at Hogwarts School of Witchcraft and Wizardry. Harry can't wait to get back to school after the summer holidays. (Who wouldn't if they lived with the horrible Dursleys?) But when Harry gets to Hogwarts, the atmosphere is tense. There's an escaped mass murderer on the loose, and the sinister prison guards of Azkaban have been called in to guard the school...",
            "coverImageUrl": "https://images-na.ssl-images-amazon.com/images/S/compressed.photo.goodreads.com/books/1630547330i/5.jpg",
            "totalPages": 435,
            "createdAt": "2021-11-19 20:39:36",
            "updatedAt": "2021-11-19 20:39:36"
          }
        },
        {
          "id": 2,
          "shelfId": 1,
          "bookId": 2,
          "createdAt": "2021-11-19 20:39:36",
          "updatedAt": "2021-11-19 20:39:36"
          "Book": {
            "id": 2,
            "title": "Another Book",
            "author": "Jane Smith",
            "genre": "Non-fiction",
            "publicationDate": "2024-03-01",
            "isbn": "9780987654321",
            "description": "Lorem ipsum dolor sit amet...",
            "coverImageUrl": "http://example.com/another_cover_image.jpg",
            "totalPages": 100,
            "createdAt": "2021-11-19 20:39:36",
            "updatedAt": "2021-11-19 20:39:36"
          }
        }
      ]
      "total": 2
    }
    ```

* Error response: Couldn't find a Book Shelf with the specified id
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book shelf couldn't be found"
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Add a book to a shelf
Add a book to a specific book shelf belonging to the logged-in user.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: POST
  * URL: '/api/shelf/:shelfId/books'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "bookId": 1
    }

    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "id": 1,
      "shelfId": 3,
      "bookId": 1,
      "createdAt": "2021-11-19 20:39:36",
      "updatedAt": "2021-11-19 20:39:36"
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "shelfName": "Book ID is required."
      }
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Move Book between shelves (Update)
Move a book to another book shelf belonging to the logged-in user.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: PUT
  * URL: '/api/shelf/:shelfId/move-book/:bookId'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "shelfId": 3
    }

    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book moved from shelf 1 to shelf 3 successfully."
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "errors": {
        "shelfId": "Shelf ID is required."
      }
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Move Book to Finished shelf
Move a book from the "Currently Reading" shelf to the "Finished Reading" shelf for the logged-in user, with validation to ensure reading progress is complete.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: PUT
  * URL: '/api/shelf/:shelfId/move-to-finished'
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "id": 3
    }

    ```

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book moved to Finished Reading shelf successfully."
    }
    ```

* Error Response: Body validation error
  * Status Code: 400
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Bad Request", // (or "Validation error" if generated by Sequelize),
      "error": "Unable to move book. Please ensure you have updated your reading progress first."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


### Delete Book from shelf
Delete a book from a book shelf belonging to the logged-in user.

* Require Authentication: true
* Require proper authorization: book shelf must belong to the current user
* Request
  * Method: DELETE
  * URL: '/api/shelf/:shelfId/books/:bookId'
  * Headers:
    * Content-Type: application/json
  * Body: None

* Successful Response
  * Status Code: 201
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book successfully removed from shelf."
    }
    ```

* Error Response: Require authentication
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Book not found."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```


## FRIENDS [Target MVP]
### Get all friends of the logged-in user.
Return the friends of the logged-in user

* Require Authentication: true
* Require Authorization: User can only view their own friends
* Request
  * Method: GET
  * URL: 'api/friends'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    [
      {
        "id": 1,
        "username": "friend1"
      },
      {
        "id": 2,
        "username": "friend2"
      }
    ]
    ```
* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Send Friend Request
Send friend request to the specified user.

* Require Authentication: true
* Require Authorization: User can only send 1 friend request to a user.
* Request
  * Method: POST
  * URL: 'api/friends/:friendId/send-request'
  * Body:
    ```json
    {
      "message": "Optional message"
    }
    ```

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:
    ```json
    {
      "message": "Friend request sent successfully!"
    }
    ```
* Error Response: Not Found
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friend not found."
    }
    ```

* Error Response: Conflict
  * Status Code: 409
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friend request already exists || user is already your friend."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Accept Friend Request
Accept a friend request by requestId.

* Require Authentication: true
* Require Authorization: User can only view their own friends
* Request
  * Method: PUT
  * URL: 'api/friends/accept-request/:requestId'
  * Body: None

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:
    ```json
    {
      "message": "Friend request accepted successfully!"
    }
    ```
* Error Response: Not Found
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friend not found."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

* Error Response: Require proper authorization
  * Status Code: 403
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Forbidden"
    }
    ```

### Reject Friend Request
Reject a friend request by requestId.

* Require Authentication: true
* Request
  * Method: DELETE
  * URL: 'api/friends/reject-request/:requestId'
  * Body: None

* Successful Response
  * Status Code: 204
  * Headers:
    * Content-Type: application/json
  * Body:
    ```json
    {
      "message": "Friend request rejected."
    }
    ```
* Error Response: Not Found
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friend not found."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

### Remove Friend
Remove a specified user from the friend list

* Require Authentication: true
* Request
  * Method: DELETE
  * URL: 'api/friends/remove/:friendId'
  * Body: None

* Successful Response
  * Status Code: 204
  * Headers:
    * Content-Type: application/json
  * Body:
    ```json
    {
      "message": "Friend removed."
    }
    ```
* Error Response: Not Found
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friend not found."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```

### Get Friend's Book Progress
Returns reading progress for all logged-in user's friends.

* Require Authentication: true
* Request
  * Method: GET
  * URL: 'api/friends/progress'
  * Body: none

* Successful Response
  * Status Code: 200
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "Friends": [
        {
          "id": 1,
          "username": "friend1",
          "currentlyReading": [
            {
              "bookId": 1,
              "title": "Book 1",
              "author": "Author 1",
              "pagesRead": 100,
              "totalPages": 200,
              "progressPercentage": 50
            },
            {
              "bookId": 2,
              "title": "Book 2",
              "author": "Author 2",
              "pagesRead": 25,
              "totalPages": 100,
              "progressPercentage": 25
            }
          ],
          "booksFinished": [
            {
              "bookId": 3,
              "title": "Book 3",
              "author": "Author 3",
              "pagesRead": 200,
              "totalPages": 200,
              "progressPercentage": 100
            }
          ]
        },
        {
          "id": 2,
          "username": "friend2",
          "currentlyReading": [
            {
              "bookId": 4,
              "title": "Book 4",
              "author": "Author 4",
              "pagesRead": 75,
              "totalPages": 150,
              "progressPercentage": 50
            }
          ],
          "booksFinished": []
        }
      ]
    }

    ```

* Error Response: Not Found
  * Status Code: 404
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Friends not found."
    }
    ```

* Error Response: Require authentication
  * Status Code: 401
  * Headers:
    * Content-Type: application/json
  * Body:

    ```json
    {
      "message": "Authentication required"
    }
    ```
